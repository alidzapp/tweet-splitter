<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tweet Splitter</title>
    <style>@import "//brick.a.ssl.fastly.net/Latin+Modern+Mono:400";.Wrap,.Tweet,button,.Options select{font-family:"Latin Modern Mono", monospace}*{box-sizing:border-box}html{background-color:#fafafa}body{margin:0 3em;font-size:1.25em;overflow-x:hidden}@media (max-width: 500px){body{margin:0}}body:before{content:"";position:fixed;z-index:-1;width:140%;height:70%;left:-20%;top:15%;background-color:#65f29b;transform:rotate(-10deg) skew(-20deg)}@media (max-width: 500px){body:before{height:80%;top:15%}}.Wrap{max-width:600px;margin:0 auto;padding:1em;background-color:#65f29b}h1{text-align:center;letter-spacing:4px;color:#fff}@media (max-width: 600px){h1{font-size:1.5em}}@media (max-width: 500px){h1{letter-spacing:0}}p{font-size:1.125em;color:#fff}a{color:#fff;text-decoration:none}a:hover,a:active{text-decoration:underline}.Tweet{display:block;width:100%;height:250px;padding:0.5em 0.5em 1.5em;margin-bottom:2em;border:10px solid #65f29b;resize:none;font-size:1em;background-color:#fafafa;transition:border-color ease 0.2s}.Tweet:focus,.Tweet:active{outline:0;border-color:#ffb86a}.Tweet-wrapper{position:relative}.Counter{position:absolute;right:1em;bottom:-1.5em}button{cursor:pointer;display:block;padding:0.5em;border:5px solid #65f29b;margin:0 auto;background-color:#fafafa;transition:border-color ease 0.2s}button:focus,button:active{outline:0;border-color:#ffb86a}button#Submit{position:relative;margin-top:-2.5em;font-size:1.5em}button#Reset{font-size:0.75em;margin-top:1em}button#Refresh{font-size:0.75em}.Output{margin-top:1em;background-color:#fafafa;border:10px solid #65f29b}.Output p{padding:0.5em;color:#000}.Default-options{margin:1em 0}.Change-options{display:block;text-align:center}.Change-options.is-active span{transform:rotate(180deg)}.Change-options span{display:inline-block;font-size:0.75em;transform:rotate(0deg);transition:transform 0.3s ease}.Options{margin:1em 0;max-height:0;overflow:hidden;transition:max-height 0.3s ease}.Options.is-active{max-height:250px}.Options div{clear:both}.Options div:not(:last-child){margin-bottom:1em}.Options select{display:inline-block;font-size:1em}footer{clear:both;text-align:center;background-color:#65f29b;padding-bottom:1em}
</style>
  </head>
  <body>

    <div class="Wrap">
      <h1>Tweet Splitter</h1>

      <p>Because sometimes, a tweet needs more than 140 characters.</p>

      <div class="Tweet-wrapper">
        <textarea name="tweet" class="Tweet" placeholder="Enter your tweet."></textarea>
        <div class="Counter">0</div>
      </div>

      <button id="Submit">Submit</button>
      <button id="Reset">Reset</button>

      <div class="Default-options">
        <a href="#" class="Change-options">Change Default Options <span>&or;</span></a>
        <form class="Options">
          <div>
            <label><input type="checkbox" id="Ellipses" value="ellipses" checked> Add "..." to the end of each tweet (except last)</label>
          </div>

          <div>
            <label for="Count-wrap">Wrap tweet count with:</label>
            <select name="Count-wrap" id="Count-wrap">
              <option value="parentheses" selected>( ), eg: (3/4)</option>
              <option value="brackets">[ ], eg: [3/4]</option>
              <option value="none">None, eg: 3/4</option>
            </select>
          </div>

          <div>
            <label for="Count-separator">Separate tweet count with:</label>
            <select name="Count-separator" id="Count-separator">
              <option value="slash" selected>/, eg: (3/4)</option>
              <option value="pipe">|, eg: (3|4)</option>
            </select>
          </div>
        </form>
      </div>

      <div class="Output"></div>

      <footer>
        <small>Made by <a href="http://damonbauer.me">Damon Bauer</a>. <a href="https://github.com/damonbauer/tweet-splitter">Check the source on GitHub</a>.</small>
      </footer>
    </div>

    <script>!function(){"use strict";var e=document.querySelector(".Tweet"),t=document.querySelector(".Output"),n=document.querySelector(".Counter"),c=document.querySelector(".Change-options"),o=document.querySelector(".Options"),u=document.getElementById("Ellipses"),a=document.getElementById("Count-wrap"),i=document.getElementById("Count-separator"),d=document.getElementById("Submit"),r=document.getElementById("Reset"),l=function(){var n=e.value,c=Math.ceil(n.length/140);t.innerHTML="",c>1?!function(){var e=a.options[a.selectedIndex].value,t=u.checked?136:139;t="none"===e?t-3:t-5;var c=n.match(new RegExp("[\\s\\S]{1,"+t+"}","g"));c.forEach(function(t,n){var o=n+1,a=c.length,d=a>o&&u.checked?"...":"",r="slash"===i.options[i.selectedIndex].value?"/":"|",l=e,v=void 0,m=void 0;"parentheses"===l?(v="(",m=")"):"brackets"===l?(v="[",m="]"):(v="",m=""),s(""+t+d+" "+v+o+r+a+m)})}():s(n)},s=function(e){var n=document.createElement("p");n.textContent=e,t.appendChild(n)};d.addEventListener("click",l),[u,a,i].forEach(function(e){e.addEventListener("change",l)}),r.addEventListener("click",function(){e.value="",t.innerHTML="",n.textContent="0"}),c.addEventListener("click",function(e){e.preventDefault(),e.target.classList.toggle("is-active"),o.classList.toggle("is-active")}),e.addEventListener("input",function(e){n.textContent=e.target.value.length})}();</script>
  </body>
</html>
